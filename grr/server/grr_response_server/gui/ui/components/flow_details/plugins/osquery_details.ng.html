<div *ngIf="flowRunning$ | async">
  Flow is runningâ€¦
</div>

<div *ngIf="(flowCompleted$ | async) && (resultTable$ | async)">
  <div class="query">
    <div class="query-label">Query:</div>&nbsp;
    <div class="query-text">{{(resultTable$ | async).query}}</div>
  </div>

  <div class="table-container">
    <table>
      <thead>
        <!-- TODO: Use trackBy -->
        <th *ngFor="let column of (resultTable$ | async).header.columns">{{column.name}}</th>
      </thead>
      <tbody>
        <tr *ngFor="let rowValues of (resultTable$ | async).rows">
          <td *ngFor="let value of rowValues.values">
            {{value}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div *ngIf="flowError$ | async">
  An error was encountered.
  <div *ngIf="resultStderr$ | async">
    <!-- TODO: Test if this works -->
    stderr is: {{resultStderr$ | async}}
  </div>
</div>

<button (click)="buttonClicked()">Click to query for events</button>
