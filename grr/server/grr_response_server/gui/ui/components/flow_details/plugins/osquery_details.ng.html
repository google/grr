<div *ngIf="flowRunning$ | async" class="in-progress">
  {{ (args$ | async).query }}
</div>

<div *ngIf="flowCompleted$ | async" class='results'>
  <div *ngIf="resultTable$ | async as resultTable">
    <div class="results-query">
      <span class="results-query-label">Query:</span>
      <span class="results-query-text">{{resultTable.query}}</span>
    </div>

    <div class="table-container">
      <table>
        <thead>
          <th *ngFor="let column of resultTable.header.columns; trackBy: trackByIndex">{{column.name}}</th>
        </thead>
        <tbody>
          <tr *ngFor="let row of resultTable.rows; trackBy: trackByIndex">
            <td *ngFor="let cellValue of row.values">
              {{cellValue}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div *ngIf="flowError$ | async" class="error">
  An error was encountered.
  <div *ngIf="resultStderr$ | async as resultStderr">
    stderr is: {{resultStderr}}
  </div>
</div>
