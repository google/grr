<div class="row" [class]="colorSchemeClass">
  <div
    class="header"
    (click)="toggle()"
    [ngClass]="{'is-open': isOpen, 'expandable': isOpen || expandable}"
  >
    <div class="left-aligned">
      <div *ngIf="title" class="title">{{ title }}</div>

      <div *ngIf="preview" class="preview" [class]="colorSchemeClass">
        {{ preview }}
      </div>
    </div>

    <div class="right-aligned">
      <div *ngIf="status || description" [class]="rowClass">
        <mat-progress-spinner
          *ngIf="status === IN_PROGRESS"
          mode="indeterminate"
          diameter="20"
          strokeWidth="1"
        ></mat-progress-spinner>
        <div
          class="flow-details-summary-aligned"
          *ngIf="status !== IN_PROGRESS && description"
        >
          <span class="description">{{ description }}</span>
        </div>
        <mat-icon *ngIf="icon">{{icon}}</mat-icon>
      </div>

      <div class="expansion-indicator">
        <mat-icon *ngIf="isOpen || expandable" class="arrow-icon">
          {{ isOpen ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
        </mat-icon>
      </div>
    </div>
  </div>

  <div class="results" *ngIf="isOpen">
    <ng-content></ng-content>
  </div>
</div>
