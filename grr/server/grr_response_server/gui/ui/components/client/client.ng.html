<div *ngIf="client$ | async as client" class="container" [ngClass]="{'noscroll': clientDetailsDrawer.opened}">
  <div class="client-header mat-body-1">
    <div class="fqdn-chips">
      <div class="fqdn">
        <h1 class="mat-h1">{{client.knowledgeBase.fqdn}}</h1>
      </div>
      <div class="chips">
        <mat-chip-list>
          <online-chip [lastSeen]="client.lastSeenAt"></online-chip>
          <mat-chip *ngFor="let label of client.labels; trackBy: labelsTrackByName" (removed)="removeLabel(label.name)">
            {{label.name}} <mat-icon matChipRemove>close</mat-icon>
          </mat-chip>
        </mat-chip-list>
        <button mat-button color="primary" class="add_label" (click)="openAddLabelDialog(client.labels)"
        ><mat-icon>add</mat-icon>Add label</button>
      </div>
      <div class="goto-details">
        <button mat-stroked-button color="primary" (click)="clientDetailsDrawer.toggle()">Client details</button>
      </div>
    </div>
    <div class="client-id">
      <span class="mat-h5">{{client.clientId}}</span>
    </div>
    <div class="os">
       {{client.knowledgeBase.os}}
    </div>
    <div class="last-seen">
      Last seen: <timestamp [date]="client.lastSeenAt" completeFormat="true"></timestamp>
    </div>
  </div>

  <mat-drawer-container>
    <mat-drawer #clientDetailsDrawer position="end">
      <client-details></client-details>
    </mat-drawer>
    <mat-drawer-content>
      <div class="client-approval">
        <approval></approval>
      </div>
      <div class="client-start-flow">
        <flow-form></flow-form>
      </div>
      <div class="client-flows">
        <flow-list></flow-list>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>
